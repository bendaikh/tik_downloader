# Redirect all requests to the "public" directory so the framework
# remains in its recommended structure even when the server's document
# root cannot be pointed there directly (e.g. shared hosting).

<IfModule mod_rewrite.c>
    Options +FollowSymlinks
    RewriteEngine On

    # If the request already points to /public or to an existing file/folder,
    # let it pass through untouched.
    RewriteCond %{REQUEST_URI} !^/public/
    RewriteCond %{REQUEST_FILENAME} !-f
    RewriteCond %{REQUEST_FILENAME} !-d

    # Otherwise, prepend /public and re-evaluate.
    RewriteRule ^ public/%{REQUEST_URI} [L]
</IfModule>
